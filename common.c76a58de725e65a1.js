"use strict";(self.webpackChunkaes_admin=self.webpackChunkaes_admin||[]).push([[592],{123:(b,_,e)=>{e.d(_,{u:()=>l});var o=e(8966),u=e(1588),d=e(9784),t=e(5e3),r=e(7261),n=e(7423),a=e(3877);let l=(()=>{class g{constructor(h,y,Z){this.data=h,this._dialogRef=y,this._snackBar=Z,this.imageChangedEvent="",this.croppedImage="",this.imageChangedEvent=h.image}ngOnInit(){}imageCropped(h){this.croppedImage=h.base64}imageLoaded(h){}cropperReady(){}loadImageFailed(){this._snackBar.openFromComponent(d.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{title:"Alerta",message:"No se pudo cargar la imagen, int\xe9ntelo nuevamente.",type:"warning",svgIcon:"mat_solid:warning"}}),this._dialogRef.close()}saveImage(){const h=this._croppedImageToFile(this.croppedImage,(0,u.Z)());this._dialogRef.close(h)}_croppedImageToFile(h,y){const Z=h.split(","),R=Z[0].match(/:(.*?);/)[1],L=atob(Z[1]);let M=L.length;const U=new Uint8Array(M);for(;M--;)U[M]=L.charCodeAt(M);return new File([U],y+"."+R.split("/")[1],{type:R})}}return g.\u0275fac=function(h){return new(h||g)(t.Y36(o.WI),t.Y36(o.so),t.Y36(r.ux))},g.\u0275cmp=t.Xpm({type:g,selectors:[["cropper-image-dialog"]],decls:16,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left","border-b"],["mat-dialog-title",""],[1,"flex","flex-row","items-center","flex-auto","w-full","px-8","pb-6"],[1,"w-1/2"],[3,"imageChangedEvent","maintainAspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"flex-","flex-col","w-1/2"],[1,"text-xl","font-semibold","w-full","text-center","mb-2"],[3,"src"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","bg-gray-50"],["mat-button","","mat-dialog-close","",1,"-ml-4","rounded-full",3,"color"],["mat-flat-button","",1,"rounded-full",3,"color","click"]],template:function(h,y){1&h&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Ajustar Imagen"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"image-cropper",5),t.NdJ("imageCropped",function(R){return y.imageCropped(R)})("imageLoaded",function(R){return y.imageLoaded(R)})("cropperReady",function(){return y.cropperReady()})("loadImageFailed",function(){return y.loadImageFailed()}),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7),t._uU(9," Resultado "),t.qZA(),t._UZ(10,"img",8),t.qZA()(),t.TgZ(11,"div",9)(12,"button",10),t._uU(13,"Cancelar"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return y.saveImage()}),t._uU(15,"Guardar"),t.qZA()()()),2&h&&(t.xp6(6),t.Q6J("imageChangedEvent",y.imageChangedEvent)("maintainAspectRatio",!0),t.xp6(4),t.Q6J("src",y.croppedImage,t.LSH),t.xp6(2),t.Q6J("color","warn"),t.xp6(2),t.Q6J("color","primary"))},dependencies:[n.lW,o.ZT,o.uh,a.ap],encapsulation:2}),g})()},1227:(b,_,e)=>{e.d(_,{G:()=>t,N:()=>d});var o=e(5e3),u=e(1158);let d=(()=>{class r{constructor(a){this._locationService=a}resolve(a,l){return this._locationService.getStates()}}return r.\u0275fac=function(a){return new(a||r)(o.LFG(u.a))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),t=(()=>{class r{constructor(a){this._locationService=a}resolve(a,l){return this._locationService.getStates()}}return r.\u0275fac=function(a){return new(a||r)(o.LFG(u.a))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2451:(b,_,e)=>{e.d(_,{qo:()=>d});var o=e(5094);const u=r=>r.stats,d=(0,o.P1)(u,r=>r.stats);(0,o.P1)(u,r=>r.stats.merchantsQty)},2491:(b,_,e)=>{e.d(_,{L:()=>u});var o=e(3075);class u{static isEmptyInputValue(t){return null==t||0===t.length}static mustMatch(t,r){return n=>{const a=n.get(t),l=n.get(r);if(!a||!l||(l.hasError("mustMatch")&&(delete l.errors.mustMatch,l.updateValueAndValidity()),this.isEmptyInputValue(l.value)||a.value===l.value))return null;const g={mustMatch:"Las contrase\xf1a no coinciden."};return l.setErrors(g),g}}static strongPassWord(t,r,n,a,l){return g=>{const I=g.value;if(!I)return null;const h=!t||/[A-Z]+/.test(I),y=!r||/[a-z]+/.test(I),Z=!n||/[0-9]+/.test(I),R=!a||!/^[a-zA-Z0-9]+$/.test(I);return h&&y&&Z&&R&&I.length>=l?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(t){return r=>{const n=r.get(t);if(!n||(n.hasError("onlyNumber")&&(delete n.errors.mustMatch,n.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(n.value.toString())))return null;const l={onlyNumber:"Solo se admiten n\xfameros."};return n.setErrors(l),l}}static strongPasWordPattern(){return o.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return o.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return o.kI.pattern("^[0-9]*$")}static onlyAlphabetsWithAccentPattern(){return o.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return o.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(t){return r=>{if(!r)return null;let n=r.value;if(!n)return null;void 0!==r.value.idNumber&&(n=r.value.idNumber);const a=parseInt(n.substring(0,2),10),l=parseInt(n.substring(2,4),10)-1,g=parseInt(n.substring(4,6),10),I=new Date(a,l,g);if(I.getFullYear().toString().substring(2,4)===a.toString()&&I.getMonth()===l&&I.getDate()===g)return null;const y={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return r.setErrors(y),y}}static validFullName(t){return r=>{const n=r.get(t);if(!n||!t||(n.hasError("validFullName")&&(delete n.errors.validFullName,n.updateValueAndValidity()),this._isEmptyInputValue(n.value))||n.value.trim().split(" ").length>1)return null;const a={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return n.setErrors(a),a}}static _isEmptyInputValue(t){return null==t||0===t.length}}},5681:(b,_,e)=>{e.d(_,{Y:()=>B});var o=e(5e3),u=e(5698),d=e(3900),t=e(8505),r=e(5840),n=e(230),a=e(9987),l=e(9784),g=e(3921);const I=g.Ps`
    mutation CreateCurrency($createCurrencyInput: CreateCurrencyInput!) {
        createCurrency(createCurrencyInput: $createCurrencyInput) {

            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }

        }
    }
`,h=g.Ps`
mutation UpdateCurrency($updateCurrencyInput: UpdateCurrencyInput!) {
    updateCurrency(updateCurrencyInput: $updateCurrencyInput) {
        ok
        message

        currency {
            id
            active
            name
            iso
            symbol
        }
    }
}
`,y=g.Ps`
mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
    updateCurrencyStatus(updateEntityStatusInput: $updateEntityStatusInput)
}
`,Z=g.Ps`
mutation RemoveCurrency($removeCurrencyId: String!) {
    removeCurrency(id: $removeCurrencyId)
}
`,R=g.Ps`
    query FindAllCurrencies {
        findAllCurrencies {
            ok
            message

            currencies {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`,L=g.Ps`
    query FindCurrencyById($findCurrencyByIdId: String!) {
        findCurrencyById(id: $findCurrencyByIdId) {
            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`;var M=e(7261),U=e(5094);let z=(()=>{class T{constructor(p,v,C){this.apolloProvider=p,this._snackBar=v,this.store=C,this._apollo=this.apolloProvider.use("AES")}createCurrency(p){return this.store.select(a.zd).pipe((0,u.q)(1),(0,d.w)(v=>this._apollo.mutate({mutation:I,variables:{createCurrencyInput:p},errorPolicy:"all"}).pipe((0,t.b)(({errors:C,data:E})=>{if(C){let c="";C.forEach(f=>c+=`\n ${f.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:c,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const s=(0,r.Z)(v);s.push(E.createCurrency.currency),this.store.dispatch((0,n.HC)({currencies:s}))}))))}getCurrencies(){return this._apollo.query({query:R,errorPolicy:"all"}).pipe((0,t.b)(({errors:p,data:v})=>{if(p){let C="";p.forEach(E=>C+=`\n ${E.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:C,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,n.HC)({currencies:v.findAllCurrencies.currencies}))}))}getCurrencyById(p){return this._apollo.query({query:L,variables:{findCurrencyByIdId:p},errorPolicy:"all"}).pipe((0,t.b)(({errors:v,data:C})=>{if(v){let E="";v.forEach(s=>E+=`\n ${s.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:E,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,n.NW)({currency:C.findCurrencyById.currency}))}))}updateCurrency(p){return this.store.select(a.zd).pipe((0,u.q)(1),(0,d.w)(v=>this._apollo.mutate({mutation:h,variables:{updateCurrencyInput:p},errorPolicy:"all"}).pipe((0,t.b)(({errors:C,data:E})=>{if(C){let f="";C.forEach(D=>f+=`\n ${D.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:f,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const s=(0,r.Z)(v);s[v.findIndex(f=>f.id===p.id)]=E.updateCurrency.currency,this.store.dispatch((0,n.HC)({currencies:s}))}))))}updateCurrencyStatus(p){return this.store.select(a.zd).pipe((0,u.q)(1),(0,d.w)(v=>this._apollo.mutate({mutation:y,variables:{updateEntityStatusInput:p},errorPolicy:"all"}).pipe((0,t.b)(({errors:C})=>{if(C){let c="";C.forEach(f=>c+=`\n ${f.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:c,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const E=(0,r.Z)(v);E[v.findIndex(c=>c.id===p.id)].active=p.active,this.store.dispatch((0,n.HC)({currencies:E}))}))))}removeCurrency(p){return this.store.select(a.zd).pipe((0,u.q)(1),(0,d.w)(v=>this._apollo.mutate({mutation:Z,variables:{removeCurrencyId:p},errorPolicy:"all"}).pipe((0,t.b)(({errors:C})=>{if(C){let c="";C.forEach(f=>c+=`\n ${f.message}.`),this._snackBar.openFromComponent(l.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:c,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const E=(0,r.Z)(v),s=v.findIndex(c=>c.id===p);E.splice(s,1),this.store.dispatch((0,n.HC)({currencies:E}))}))))}}return T.\u0275fac=function(p){return new(p||T)(o.LFG(g._M),o.LFG(M.ux),o.LFG(U.yh))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),B=(()=>{class T{constructor(p){this._currenciesService=p}resolve(p,v){return this._currenciesService.getCurrencies()}}return T.\u0275fac=function(p){return new(p||T)(o.LFG(z))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},9987:(b,_,e)=>{e.d(_,{zd:()=>t});var o=e(5094);const u=r=>r.currencies,t=((0,o.P1)(u,r=>r.currency),(0,o.P1)(u,r=>r.currencies))},7988:(b,_,e)=>{e.d(_,{Z:()=>u});const u=function o(d,t){for(var r=-1,n=null==d?0:d.length,a=Array(n);++r<n;)a[r]=t(d[r],r,d);return a}},7298:(b,_,e)=>{e.d(_,{Z:()=>t});var o=e(7370),u=e(2168);const t=function d(r,n){for(var a=0,l=(n=(0,o.Z)(n,r)).length;null!=r&&a<l;)r=r[(0,u.Z)(n[a++])];return a&&a==l?r:void 0}},7370:(b,_,e)=>{e.d(_,{Z:()=>E});var o=e(4177),u=e(8042),d=e(3639);function r(s,c){if("function"!=typeof s||null!=c&&"function"!=typeof c)throw new TypeError("Expected a function");var f=function(){var D=arguments,N=c?c.apply(this,D):D[0],F=f.cache;if(F.has(N))return F.get(N);var W=s.apply(this,D);return f.cache=F.set(N,W)||F,W};return f.cache=new(r.Cache||d.Z),f}r.Cache=d.Z;const n=r;var I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g;const Z=function l(s){var c=n(s,function(D){return 500===f.size&&f.clear(),D}),f=c.cache;return c}(function(s){var c=[];return 46===s.charCodeAt(0)&&c.push(""),s.replace(I,function(f,D,N,F){c.push(N?F.replace(h,"$1"):D||f)}),c});var R=e(8492),L=e(7988),M=e(6460),z=R.Z?R.Z.prototype:void 0,B=z?z.toString:void 0;const x=function T(s){if("string"==typeof s)return s;if((0,o.Z)(s))return(0,L.Z)(s,T)+"";if((0,M.Z)(s))return B?B.call(s):"";var c=s+"";return"0"==c&&1/s==-1/0?"-0":c},v=function p(s){return null==s?"":x(s)},E=function C(s,c){return(0,o.Z)(s)?s:(0,u.Z)(s,c)?[s]:Z(v(s))}},8042:(b,_,e)=>{e.d(_,{Z:()=>n});var o=e(4177),u=e(6460),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t=/^\w*$/;const n=function r(a,l){if((0,o.Z)(a))return!1;var g=typeof a;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=a&&!(0,u.Z)(a))||t.test(a)||!d.test(a)||null!=l&&a in Object(l)}},2168:(b,_,e)=>{e.d(_,{Z:()=>t});var o=e(6460);const t=function d(r){if("string"==typeof r||(0,o.Z)(r))return r;var n=r+"";return"0"==n&&1/r==-1/0?"-0":n}},6460:(b,_,e)=>{e.d(_,{Z:()=>r});var o=e(7079),u=e(214);const r=function t(n){return"symbol"==typeof n||(0,u.Z)(n)&&"[object Symbol]"==(0,o.Z)(n)}},5119:(b,_,e)=>{e.d(_,{Z:()=>X});var o=e(7988),u=e(9057),d=e(7370);var n=e(7298);const I=function g(i,m){return m.length<2?i:(0,n.Z)(i,function a(i,m,P){var O=-1,A=i.length;m<0&&(m=-m>A?0:A+m),(P=P>A?A:P)<0&&(P+=A),A=m>P?0:P-m>>>0,m>>>=0;for(var S=Array(A);++O<A;)S[O]=i[O+m];return S}(m,0,-1))};var h=e(2168);const Z=function y(i,m){return m=(0,d.Z)(m,i),null==(i=I(i,m))||delete i[(0,h.Z)(function t(i){var m=null==i?0:i.length;return m?i[m-1]:void 0}(m))]};var R=e(3276),L=e(2031);const U=function M(i){return(0,L.Z)(i)?void 0:i};var z=e(6623),B=e(8492),T=e(4825),x=e(4177),p=B.Z?B.Z.isConcatSpreadable:void 0;const C=function v(i){return(0,x.Z)(i)||(0,T.Z)(i)||!!(p&&i&&i[p])},s=function E(i,m,P,O,A){var S=-1,k=i.length;for(P||(P=C),A||(A=[]);++S<k;){var K=i[S];m>0&&P(K)?m>1?E(K,m-1,P,O,A):(0,z.Z)(A,K):O||(A[A.length]=K)}return A},f=function c(i){return null!=i&&i.length?s(i,1):[]};var D=e(5604),N=e(8661);var $=e(8065);const X=function F(i){return(0,N.Z)((0,D.Z)(i,void 0,f),i+"")}(function(i,m){var P={};if(null==i)return P;var O=!1;m=(0,o.Z)(m,function(S){return S=(0,d.Z)(S,i),O||(O=S.length>1),S}),(0,R.Z)(i,(0,$.Z)(i),P),O&&(P=(0,u.Z)(P,7,U));for(var A=m.length;A--;)Z(P,m[A]);return P})}}]);