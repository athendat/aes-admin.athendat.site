"use strict";(self.webpackChunkaes_admin=self.webpackChunkaes_admin||[]).push([[544],{544:(Ae,A,i)=>{i.r(A),i.d(A,{SettingsModule:()=>ve});var m=i(5357),B=i(4576),e=i(5e3);let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-settings"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),o})();var f=i(7579),l=i(2722),_=i(7625),w=i(8288);class S{constructor(a="",t="",n="",c="",s="",d="",h=""){this.name=a,this.address=t,this.city=n,this.state=c,this.country=s,this.phone=d,this.email=h}}var Z=i(5094),u=i(9808),g=i(7423),b=i(5245);function R(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"span",11),e._uU(2," Moneda por defecto "),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(4),e.AsE(" (",t.merchant.currency.iso||"",") ",t.merchant.currency.name||"No definida"," ")}}function Y(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"div",18)(2,"span",19),e._uU(3),e.qZA(),e.TgZ(4,"span",12),e._uU(5),e.qZA(),e.TgZ(6,"span",12),e._uU(7),e.qZA()(),e.BQk()),2&o){const t=a.$implicit;e.xp6(3),e.hij(" ",t.bank," "),e.xp6(2),e.hij(" ",t.beneficiary," "),e.xp6(2),e.AsE(" (",t.currency,") ",t.no," ")}}const E=function(){return["/"]},D=function(){return["/settings/merchant-info"]},L=function(){return["/settings/merchant-bank-accounts"]};let z=(()=>{class o{constructor(t,n,c,s){this._activatedRoute=t,this._changeDetectorRef=n,this._router=c,this.store=s,this.merchant=new S,this._unsubscribeAll=new f.x}ngOnInit(){this.store.select(_.Q).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{""===t.name&&this._router.navigateByUrl("settings/merchant-info"),this.merchant=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(e.sBO),e.Y36(m.F0),e.Y36(Z.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["merchant"]],decls:63,vars:22,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","items-center","p-6","sm:p-10"],[1,"flex","flex-col","w-full","max-w-5xl"],[1,"-ml-4","sm:mt-8"],["mat-button","",3,"routerLink","color"],[3,"svgIcon"],[1,"ml-2"],[1,"mt-2","text-4xl","sm:text-7xl","font-extrabold","tracking-tight","leading-tight"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","grid-flow-row","gap-y-12","sm:gap-x-4","mt-8","sm:mt-12"],[1,"flex","flex-col","items-start"],[1,"flex","items-center","mb-1","text-2xl","font-semibold"],[1,"mt-3","font-medium","text-primary-500"],[1,"font-medium"],[4,"ngIf"],[1,"flex","items-center","mt-5","pl-4","pr-3","py-0.5","rounded-full","cursor-pointer","bg-gray-200","hover:bg-gray-300","dark:bg-gray-800","dark:hover:bg-gray-700",3,"routerLink"],[1,"text-sm","font-medium","text-secondary"],[1,"ml-2","icon-size-5",3,"svgIcon"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","mt-3"],[1,"font-medium","text-primary-500"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"mat-icon",5),e.TgZ(6,"span",6),e._uU(7,"Regresar"),e.qZA()()(),e.TgZ(8,"div",7),e._uU(9," Informaci\xf3n del negocio "),e.qZA(),e.TgZ(10,"div",8)(11,"div",9)(12,"span",10),e._uU(13," Informaci\xf3n General "),e.qZA(),e.TgZ(14,"span",11),e._uU(15," Nombre "),e.qZA(),e.TgZ(16,"span",12),e._uU(17),e.qZA(),e.TgZ(18,"span",11),e._uU(19," NIT "),e.qZA(),e.TgZ(20,"span",12),e._uU(21),e.qZA(),e.TgZ(22,"span",11),e._uU(23," REUPP "),e.qZA(),e.TgZ(24,"span",12),e._uU(25),e.qZA(),e.YNc(26,R,5,2,"ng-container",13),e.TgZ(27,"span",11),e._uU(28," Impuesto sobre las ventas por defecto "),e.qZA(),e.TgZ(29,"span",12),e._uU(30),e.ALo(31,"percent"),e.qZA()(),e.TgZ(32,"div",9)(33,"span",10),e._uU(34," Informaci\xf3n de Contacto "),e.qZA(),e.TgZ(35,"span",11),e._uU(36," Direcci\xf3n "),e.qZA(),e.TgZ(37,"span",12),e._uU(38),e.qZA(),e.TgZ(39,"span",11),e._uU(40," Sitio Web "),e.qZA(),e.TgZ(41,"span",12),e._uU(42),e.qZA(),e.TgZ(43,"span",11),e._uU(44," Tel\xe9fono "),e.qZA(),e.TgZ(45,"span",12),e._uU(46),e.qZA(),e.TgZ(47,"span",11),e._uU(48," Correo electr\xf3nico "),e.qZA(),e.TgZ(49,"span",12),e._uU(50),e.qZA(),e.TgZ(51,"a",14)(52,"span",15),e._uU(53,"Editar"),e.qZA(),e._UZ(54,"mat-icon",16),e.qZA()(),e.TgZ(55,"div",9)(56,"span",10),e._uU(57," Cuentas de Banco "),e.qZA(),e.YNc(58,Y,8,4,"ng-container",17),e.TgZ(59,"a",14)(60,"span",15),e._uU(61,"Editar"),e.qZA(),e._UZ(62,"mat-icon",16),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(19,E))("color","primary"),e.xp6(1),e.Q6J("svgIcon","mat_solid:west"),e.xp6(12),e.hij(" ",n.merchant.name||"No definida"," "),e.xp6(4),e.hij(" ",n.merchant.nit||"No definida"," "),e.xp6(4),e.hij(" ",n.merchant.reupp||"No definida"," "),e.xp6(1),e.Q6J("ngIf",n.merchant.currency),e.xp6(4),e.hij(" ",e.lcZ(31,17,n.merchant.tax)||"No definido"," "),e.xp6(8),e.hij(" ",n.merchant.address||"No definida"," "),e.xp6(4),e.hij(" ",n.merchant.website||"No definida"," "),e.xp6(4),e.hij(" ",n.merchant.phone||"No definida"," "),e.xp6(4),e.hij(" ",n.merchant.email||"No definida"," "),e.xp6(1),e.Q6J("routerLink",e.DdM(20,D)),e.xp6(3),e.Q6J("svgIcon","mat_solid:east"),e.xp6(4),e.Q6J("ngForOf",n.merchant.bankAccounts),e.xp6(1),e.Q6J("routerLink",e.DdM(21,L)),e.xp6(3),e.Q6J("svgIcon","mat_solid:east"))},dependencies:[m.yS,u.sg,u.O5,g.zs,b.Hw,u.Zx],encapsulation:2,data:{animation:w.L},changeDetection:0}),o})();var r=i(3075),k=i(7489),F=i(9987),v=i(9784),T=i(1683),y=i(1158),I=i(413),C=i(7261),U=i(9071),q=i(508),j=i(4533),p=i(7322),N=i(8833),Q=i(4107);const O=["merchantNgForm"];function P(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre de la empresa es obligatorio. "),e.qZA())}function G(o,a){if(1&o&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function H(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function $(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico es obligatorio. "),e.qZA())}function X(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico no presenta un patr\xf3n v\xe1lido. "),e.qZA())}function K(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El tel\xe9fono es obligatorio. "),e.qZA())}function V(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function W(o,a){if(1&o&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ee(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function te(o,a){if(1&o&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.city),e.xp6(1),e.hij(" ",t.city," ")}}function ne(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function oe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n del negocio es obligatoria. "),e.qZA())}const re=function(){return["../"]};let ae=(()=>{class o{constructor(t,n,c,s,d,h,x,xe){this._changeDetectorRef=t,this._formBuilder=n,this._fuseConfirmationService=c,this._locationService=s,this._merchantService=d,this._router=h,this._snackBar=x,this.store=xe,this.currencies=[],this.cities=[],this.states=[],this.stateSelected="",this._unsubscribeAll=new f.x}ngOnInit(){var t;this._locationService.states$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{this.states=n,this._changeDetectorRef.markForCheck()}),this.merchantForm=this._formBuilder.group({id:new r.NI,name:new r.NI("",r.kI.required),nit:new r.NI,reupp:new r.NI,bankAccount:new r.NI,tax:new r.NI(0,[r.kI.min(0),r.kI.max(100)]),currencyId:new r.NI("",r.kI.required),country:new r.NI({disabled:!0,value:"Cuba"}),state:new r.NI("",r.kI.required),city:new r.NI({disabled:!0,value:""},r.kI.required),zip:new r.NI,address:new r.NI("",r.kI.required),email:new r.NI("",[r.kI.required,r.kI.email]),phone:new r.NI,website:new r.NI}),this.store.select(_.Q).pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{this.merchant=n,null!==n&&this.merchantForm.patchValue(n),null!==n&&this.merchantForm.get("tax").setValue(100*n.tax),this._changeDetectorRef.markForCheck()}),null===(t=this.merchantForm.get("state"))||void 0===t||t.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{this._getCitiesByState(n),this.merchantForm.get("city").enable(),this._changeDetectorRef.markForCheck()}),this.store.select(F.zd).pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{this.currencies=n,this._changeDetectorRef.markForCheck()})}clearForm(){this.merchantNgForm.resetForm()}saveMerchant(){let t=this.merchantForm.getRawValue();null===t.id&&(t=(0,k.omit)(t,["id"])),t.tax=t.tax/100,this._fuseConfirmationService.open({title:"Actualizar informaci\xf3n del negocio",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:help",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(c=>{"confirmed"===c&&(t.id||this._merchantService.createMerchant(t).subscribe(({data:s})=>{this._snackBar.openFromComponent(v.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateMerchant.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/settings/merchant")}),t.id&&this._merchantService.updateMerchant(t).subscribe(({data:s})=>{this._snackBar.openFromComponent(v.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateMerchant.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/dashboard")}))}),this._changeDetectorRef.markForCheck()}trackByFn(t,n){return n.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(n=>{this.cities=n,this._changeDetectorRef.markForCheck()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(r.qu),e.Y36(T.R),e.Y36(y.a),e.Y36(I.c),e.Y36(m.F0),e.Y36(C.ux),e.Y36(Z.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["merchant-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(O,5),2&t){let c;e.iGM(c=e.CRH())&&(n.merchantNgForm=c.first)}},decls:98,vars:50,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-auto","items-center","p-6","sm:p-10"],[1,"flex","flex-col","w-full","max-w-4xl"],[1,"-ml-4","sm:mt-8"],["mat-button","",3,"routerLink","color"],[3,"svgIcon"],[1,"ml-2"],[1,"mt-2","text-4xl","sm:text-7xl","font-extrabold","tracking-tight","leading-tight"],[1,"mt-8","sm:mt-12","p-6","pb-7","sm:p-10","sm:pb-7","shadow","rounded-2xl","bg-card"],[1,"space-y-3",3,"formGroup"],["merchantNgForm","ngForm"],[1,"mb-6"],[1,"text-2xl","font-bold","tracking-tight"],[1,"text-secondary"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],[1,"w-full"],["matInput","",1,"mat-fuse-dense",3,"formControlName","required"],[4,"ngIf"],["matInput","",1,"mat-fuse-dense",3,"formControlName"],["required","",1,"mat-fuse-dense",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","min","0","max","100",1,"mat-fuse-dense",3,"type","formControlName"],["type","email","matInput","",3,"formControlName","required"],["type","tel","matInput","",1,"mat-fuse-dense",3,"formControlName","required"],["value","Cuba"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"md:col-span-2"],["matInput","","cdkTextareaAutosize","",1,"mat-fuse-dense",3,"formControlName","required","rows"],[1,"flex","items-center","justify-end"],["mat-button","",3,"color","disabled","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"mat-icon",5),e.TgZ(6,"span",6),e._uU(7,"Regresar"),e.qZA()()(),e.TgZ(8,"div",7),e._uU(9," Editar Informaci\xf3n del Negocio "),e.qZA(),e.TgZ(10,"div",8)(11,"form",9,10)(13,"div",11)(14,"div",12),e._uU(15,"Mantenga actualizada la informaci\xf3n de su negocio."),e.qZA(),e.TgZ(16,"div",13),e._uU(17," Esta informaci\xf3n se utilizar\xe1 en la generaci\xf3n de documentos comerciales como ofertas, facturas, tickets etc. "),e.qZA()(),e.TgZ(18,"div",14)(19,"mat-form-field",15),e._UZ(20,"input",16),e.TgZ(21,"mat-label"),e._uU(22,"Nombre"),e.qZA(),e.YNc(23,P,2,0,"mat-error",17),e.qZA(),e.TgZ(24,"mat-form-field",15),e._UZ(25,"input",18),e.TgZ(26,"mat-label"),e._uU(27,"N\xfamero de Identificaci\xf3n Tributaria"),e.qZA()(),e.TgZ(28,"mat-form-field",15),e._UZ(29,"input",18),e.TgZ(30,"mat-label"),e._uU(31,"C\xf3digo REUPP"),e.qZA()(),e.TgZ(32,"mat-form-field",15)(33,"mat-label"),e._uU(34,"Moneda por defecto"),e.qZA(),e.TgZ(35,"mat-select",19),e.YNc(36,G,2,2,"mat-option",20),e.qZA(),e._UZ(37,"mat-icon",21),e.YNc(38,H,2,0,"mat-error",17),e.qZA(),e.TgZ(39,"mat-form-field",15),e._UZ(40,"input",22),e.TgZ(41,"mat-label"),e._uU(42,"Impuesto por defecto"),e.qZA(),e._UZ(43,"mat-icon",21),e.qZA(),e.TgZ(44,"mat-form-field",15),e._UZ(45,"input",23),e.TgZ(46,"mat-label"),e._uU(47,"Correo electr\xf3nico"),e.qZA(),e.YNc(48,$,2,0,"mat-error",17),e.YNc(49,X,2,0,"mat-error",17),e._UZ(50,"mat-icon",21),e.qZA(),e.TgZ(51,"mat-form-field",15),e._UZ(52,"input",24),e.TgZ(53,"mat-label"),e._uU(54,"Tel\xe9fono"),e.qZA(),e.YNc(55,K,2,0,"mat-error",17),e._UZ(56,"mat-icon",21),e.qZA(),e.TgZ(57,"mat-form-field",15),e._UZ(58,"input",18),e.TgZ(59,"mat-label"),e._uU(60,"Sitio Web"),e.qZA(),e._UZ(61,"mat-icon",21),e.qZA(),e.TgZ(62,"mat-form-field",15)(63,"mat-label"),e._uU(64,"Pa\xeds"),e.qZA(),e.TgZ(65,"mat-select",19)(66,"mat-option",25),e._uU(67,"Cuba"),e.qZA()(),e._UZ(68,"mat-icon",21),e.YNc(69,V,2,0,"mat-error",17),e.qZA(),e.TgZ(70,"mat-form-field",15)(71,"mat-label"),e._uU(72,"Provincia"),e.qZA(),e.TgZ(73,"mat-select",19),e.YNc(74,W,2,2,"mat-option",26),e.qZA(),e._UZ(75,"mat-icon",21),e.YNc(76,ee,2,0,"mat-error",17),e.qZA(),e.TgZ(77,"mat-form-field",15)(78,"mat-label"),e._uU(79,"Municipio"),e.qZA(),e.TgZ(80,"mat-select",19),e.YNc(81,te,2,2,"mat-option",26),e.qZA(),e._UZ(82,"mat-icon",21),e.YNc(83,ne,2,0,"mat-error",17),e.qZA(),e.TgZ(84,"mat-form-field",15),e._UZ(85,"input",18),e.TgZ(86,"mat-label"),e._uU(87,"C\xf3digo Postal"),e.qZA()(),e.TgZ(88,"mat-form-field",27),e._UZ(89,"textarea",28),e.TgZ(90,"mat-label"),e._uU(91,"Direcci\xf3n"),e.qZA(),e.YNc(92,oe,2,0,"mat-error",17),e.qZA()(),e.TgZ(93,"div",29)(94,"button",30),e.NdJ("click",function(){return n.clearForm()}),e._uU(95," Limpiar "),e.qZA(),e.TgZ(96,"button",31),e.NdJ("click",function(){return n.saveMerchant()}),e._uU(97," Guardar "),e.qZA()()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(49,re))("color","primary"),e.xp6(1),e.Q6J("svgIcon","mat_solid:west"),e.xp6(6),e.Q6J("formGroup",n.merchantForm),e.xp6(9),e.Q6J("formControlName","name")("required",!0),e.xp6(3),e.Q6J("ngIf",n.merchantForm.get("name").hasError("required")),e.xp6(2),e.Q6J("formControlName","nit"),e.xp6(4),e.Q6J("formControlName","reupp"),e.xp6(6),e.Q6J("formControlName","currencyId"),e.xp6(1),e.Q6J("ngForOf",n.currencies),e.xp6(1),e.Q6J("svgIcon","mat_solid:attach_money"),e.xp6(1),e.Q6J("ngIf",n.merchantForm.get("currencyId").hasError("required")),e.xp6(2),e.Q6J("type","number")("formControlName","tax"),e.xp6(3),e.Q6J("svgIcon","mat_solid:percent"),e.xp6(2),e.Q6J("formControlName","email")("required",!0),e.xp6(3),e.Q6J("ngIf",n.merchantForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.merchantForm.get("email").hasError("email")),e.xp6(1),e.Q6J("svgIcon","mat_solid:alternate_email"),e.xp6(2),e.Q6J("formControlName","phone")("required",!0),e.xp6(3),e.Q6J("ngIf",n.merchantForm.get("phone").hasError("required")),e.xp6(1),e.Q6J("svgIcon","mat_solid:call"),e.xp6(2),e.Q6J("formControlName","website"),e.xp6(3),e.Q6J("svgIcon","mat_solid:language"),e.xp6(4),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","mat_solid:public"),e.xp6(1),e.Q6J("ngIf",n.merchantForm.get("country").hasError("required")),e.xp6(4),e.Q6J("formControlName","state"),e.xp6(1),e.Q6J("ngForOf",n.states)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","mat_solid:travel_explore"),e.xp6(1),e.Q6J("ngIf",n.merchantForm.get("state").hasError("required")),e.xp6(4),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngForOf",n.cities)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","mat_solid:place"),e.xp6(1),e.Q6J("ngIf",n.merchantForm.get("city").hasError("required")),e.xp6(2),e.Q6J("formControlName","zip"),e.xp6(4),e.Q6J("formControlName","address")("required",!0)("rows",5),e.xp6(3),e.Q6J("ngIf",n.merchantForm.get("address").hasError("required")),e.xp6(2),e.Q6J("color","accent")("disabled",n.merchantForm.pristine||n.merchantForm.untouched),e.xp6(2),e.Q6J("color","primary")("disabled",n.merchantForm.pristine||n.merchantForm.invalid))},dependencies:[m.yS,u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,U.PQ,q.ey,g.lW,g.zs,b.Hw,j.IC,p.TO,p.KE,p.hX,p.qo,N.Nt,Q.gD],encapsulation:2,changeDetection:0}),o})();var ce=i(7238);const ie=["merchantBankAccountsNgForm"];function se(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Banco"),e.qZA())}function me(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Beneficiario"),e.qZA())}function le(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"N\xfamero de Cuenta"),e.qZA())}function ue(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Moneda"),e.qZA())}function pe(o,a){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.iso),e.xp6(1),e.hij(" ",t.iso," ")}}const de=function(o){return{"mt-6":o}};function ge(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().index,s=e.oxw();return e.KtG(s.removeBankAccount(c))}),e._UZ(3,"mat-icon",18),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,de,t)),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function he(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23)(2,"mat-form-field",24),e.YNc(3,se,2,0,"mat-label",25),e._UZ(4,"mat-icon",26)(5,"input",27),e.qZA(),e.TgZ(6,"mat-form-field",24),e.YNc(7,me,2,0,"mat-label",25),e._UZ(8,"mat-icon",26)(9,"input",27),e.qZA(),e.TgZ(10,"mat-form-field",24),e.YNc(11,le,2,0,"mat-label",25),e._UZ(12,"mat-icon",26)(13,"input",28),e.qZA(),e.TgZ(14,"mat-form-field",24),e.YNc(15,ue,2,0,"mat-label",25),e._UZ(16,"mat-icon",26),e.TgZ(17,"mat-select",29),e.YNc(18,pe,2,2,"mat-option",30),e.qZA()(),e.YNc(19,ge,4,4,"ng-container",25),e.qZA(),e.BQk()),2&o){const t=a.$implicit,n=a.first,c=a.last,s=e.oxw();e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","mat_solid:account_balance"),e.xp6(1),e.Q6J("type","text")("formControl",t.get("bank"))("placeholder","Ejemplo: Banco Financiero")("spellcheck",!1),e.xp6(1),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","mat_solid:business"),e.xp6(1),e.Q6J("type","text")("formControl",t.get("beneficiary"))("placeholder","Ejemplo: Empresa SRL")("spellcheck",!1),e.xp6(1),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","mat_solid:credit_card"),e.xp6(1),e.Q6J("type","text")("formControl",t.get("no"))("placeholder","Ejemplo: 1234567890123456")("spellcheck",!1),e.xp6(1),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","mat_solid:monetization_on"),e.xp6(1),e.Q6J("formControl",t.get("currency"))("placeholder","Ejemplo: USD"),e.xp6(1),e.Q6J("ngForOf",s.currencies),e.xp6(1),e.Q6J("ngIf",!(n&&c))}}const fe=function(){return["../"]};let _e=(()=>{class o{constructor(t,n,c,s,d,h,x){this._changeDetectorRef=t,this._formBuilder=n,this._fuseConfirmationService=c,this._merchantService=s,this._router=d,this._snackBar=h,this.store=x,this.currencies=[],this._unsubscribeAll=new f.x}ngOnInit(){this.merchantBankAccountsForm=this._formBuilder.group({bankAccounts:new r.Oe([])}),this.store.select(_.Q).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{if(this.merchant=t,t.bankAccounts.length>0){this.merchantBankAccountsForm.get("bankAccounts").clear();const n=[];t.bankAccounts.length>0?t.bankAccounts.forEach(c=>{n.push(this._formBuilder.group({bank:new r.NI(c.bank),beneficiary:new r.NI(c.beneficiary),no:new r.NI(c.no),currency:new r.NI(c.currency)}))}):n.push(this._formBuilder.group({bank:new r.NI(null,[r.kI.required,r.kI.maxLength(255)]),beneficiary:new r.NI(null,[r.kI.required,r.kI.maxLength(255)]),no:new r.NI(null,[r.kI.required,r.kI.maxLength(20)]),currency:new r.NI(null,[r.kI.required,r.kI.maxLength(10)])})),n.forEach(c=>{this.merchantBankAccountsForm.get("bankAccounts").push(c)})}this._changeDetectorRef.markForCheck()}),this.store.select(F.zd).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currencies=t,this._changeDetectorRef.markForCheck()})}addBankAccount(){const t=this._formBuilder.group({bank:new r.NI(null,[r.kI.required,r.kI.maxLength(255)]),beneficiary:new r.NI(null,[r.kI.required,r.kI.maxLength(255)]),no:new r.NI(null,[r.kI.required,r.kI.maxLength(20)]),currency:new r.NI(null,[r.kI.required,r.kI.maxLength(10)])});this.merchantBankAccountsForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.merchantBankAccountsForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}clearForm(){this.merchantBankAccountsNgForm.resetForm()}saveMerchant(){const t=this.merchantBankAccountsForm.get("bankAccounts").value;let n=Object.assign(Object.assign({},this.merchant),{bankAccounts:t});n=(0,k.omit)(n,["id","userId","slug","bankAccount","createdAt","updatedAt","__v","currency"]),this._fuseConfirmationService.open({title:"Guardar cuentas de banco",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:help",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(s=>{"confirmed"===s&&this._merchantService.updateMerchant(n).subscribe(({data:d})=>{this._snackBar.openFromComponent(v.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:d.updateMerchant.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/settings")})}),this._changeDetectorRef.markForCheck()}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(r.qu),e.Y36(T.R),e.Y36(I.c),e.Y36(m.F0),e.Y36(C.ux),e.Y36(Z.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["settings-merchant-bank-accounts"]],viewQuery:function(t,n){if(1&t&&e.Gf(ie,5),2&t){let c;e.iGM(c=e.CRH())&&(n.merchantBankAccountsNgForm=c.first)}},decls:30,vars:12,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-auto","items-center","p-6","sm:p-10"],[1,"flex","flex-col","w-full","max-w-4xl"],[1,"-ml-4","sm:mt-8"],["mat-button","",3,"routerLink","color"],[3,"svgIcon"],[1,"ml-2"],[1,"mt-2","text-4xl","sm:text-7xl","font-extrabold","tracking-tight","leading-tight"],[1,"mt-8","sm:mt-12","p-6","pb-7","sm:p-10","sm:pb-7","shadow","rounded-2xl","bg-card"],[1,"space-y-3",3,"formGroup"],["merchantBankAccountsNgForm","ngForm"],[1,"mb-6"],[1,"text-2xl","font-bold","tracking-tight"],[1,"text-secondary"],[1,"mt-8"],[1,"space-y-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","inline-flex","items-center","mt-2","-ml-4","py-2","px-4","rounded","cursor-pointer",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"flex","items-center","justify-end"],["mat-button","",3,"color","disabled","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],[1,"flex-auto","mat-fuse-dense",3,"subscriptSizing"],[4,"ngIf"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["maxlength","255","matInput","",3,"type","formControl","placeholder","spellcheck"],["maxlength","20","matInput","",3,"type","formControl","placeholder","spellcheck"],["required","",3,"formControl","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar cuenta",1,"w-8","h-8","min-h-8",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"mat-icon",5),e.TgZ(6,"span",6),e._uU(7,"Regresar"),e.qZA()()(),e.TgZ(8,"div",7),e._uU(9," Cuentas Bancarias del Negocio "),e.qZA(),e.TgZ(10,"div",8)(11,"form",9,10)(13,"div",11)(14,"div",12),e._uU(15," Agregue todas las cuentas bancarias que utilizar\xe1 en el negocio. "),e.qZA(),e.TgZ(16,"div",13),e._uU(17," Esta informaci\xf3n se utilizar\xe1 en la generaci\xf3n de documentos comerciales como las facturas y contratos. "),e.qZA()(),e.TgZ(18,"div",14)(19,"div",15),e.YNc(20,he,20,28,"ng-container",16),e.qZA(),e.TgZ(21,"div",17),e.NdJ("click",function(){return n.addBankAccount()}),e._UZ(22,"mat-icon",18),e.TgZ(23,"span",19),e._uU(24," Agregar Cuenta "),e.qZA()()(),e.TgZ(25,"div",20)(26,"button",21),e.NdJ("click",function(){return n.clearForm()}),e._uU(27," Limpiar "),e.qZA(),e.TgZ(28,"button",22),e.NdJ("click",function(){return n.saveMerchant()}),e._uU(29," Guardar "),e.qZA()()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(11,fe))("color","primary"),e.xp6(1),e.Q6J("svgIcon","mat_solid:west"),e.xp6(6),e.Q6J("formGroup",n.merchantBankAccountsForm),e.xp6(9),e.Q6J("ngForOf",n.merchantBankAccountsForm.get("bankAccounts").controls)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("svgIcon","mat_solid:add_circle"),e.xp6(4),e.Q6J("color","accent")("disabled",n.merchantBankAccountsForm.pristine||n.merchantBankAccountsForm.untouched),e.xp6(2),e.Q6J("color","primary")("disabled",n.merchantBankAccountsForm.pristine||n.merchantBankAccountsForm.invalid))},dependencies:[m.yS,u.mk,u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.oH,r.sg,U.PQ,q.ey,g.lW,g.zs,b.Hw,p.KE,p.hX,p.qo,N.Nt,Q.gD,ce.gM],encapsulation:2,changeDetection:0}),o})(),Ze=(()=>{class o{constructor(t){this._locationService=t}resolve(t,n){return this._locationService.getStates()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.a))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var J=i(5681);const be=[{path:"",component:M,children:[{path:"",pathMatch:"full",redirectTo:"merchant"},{path:"merchant",component:z},{path:"merchant-bank-accounts",component:_e,resolve:{currencies:J.Y}},{path:"merchant-info",component:ae,resolve:{state:Ze,currencies:J.Y}}]}];let ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(be),B.m]}),o})()}}]);