"use strict";(self.webpackChunkaes_admin=self.webpackChunkaes_admin||[]).push([[592],{123:(D,_,t)=>{t.d(_,{u:()=>c});var a=t(8966),g=t(1588),u=t(9784),e=t(5e3),r=t(7261),n=t(7423),s=t(3877);let c=(()=>{class d{constructor(h,v,Z){this.data=h,this._dialogRef=v,this._snackBar=Z,this.imageChangedEvent="",this.croppedImage="",this.imageChangedEvent=h.image}ngOnInit(){}imageCropped(h){this.croppedImage=h.base64}imageLoaded(h){}cropperReady(){}loadImageFailed(){this._snackBar.openFromComponent(u.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{title:"Alerta",message:"No se pudo cargar la imagen, int\xe9ntelo nuevamente.",type:"warning",svgIcon:"mat_solid:warning"}}),this._dialogRef.close()}saveImage(){const h=this._croppedImageToFile(this.croppedImage,(0,g.Z)());this._dialogRef.close(h)}_croppedImageToFile(h,v){const Z=h.split(","),b=Z[0].match(/:(.*?);/)[1],F=atob(Z[1]);let M=F.length;const L=new Uint8Array(M);for(;M--;)L[M]=F.charCodeAt(M);return new File([L],v+"."+b.split("/")[1],{type:b})}}return d.\u0275fac=function(h){return new(h||d)(e.Y36(a.WI),e.Y36(a.so),e.Y36(r.ux))},d.\u0275cmp=e.Xpm({type:d,selectors:[["cropper-image-dialog"]],decls:16,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left","border-b"],["mat-dialog-title",""],[1,"flex","flex-row","items-center","flex-auto","w-full","px-8","pb-6"],[1,"w-1/2"],[3,"imageChangedEvent","maintainAspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"flex-","flex-col","w-1/2"],[1,"text-xl","font-semibold","w-full","text-center","mb-2"],[3,"src"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","bg-gray-50"],["mat-button","","mat-dialog-close","",1,"-ml-4","rounded-full",3,"color"],["mat-flat-button","",1,"rounded-full",3,"color","click"]],template:function(h,v){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Ajustar Imagen"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"image-cropper",5),e.NdJ("imageCropped",function(b){return v.imageCropped(b)})("imageLoaded",function(b){return v.imageLoaded(b)})("cropperReady",function(){return v.cropperReady()})("loadImageFailed",function(){return v.loadImageFailed()}),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7),e._uU(9," Resultado "),e.qZA(),e._UZ(10,"img",8),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e._uU(13,"Cancelar"),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){return v.saveImage()}),e._uU(15,"Guardar"),e.qZA()()()),2&h&&(e.xp6(6),e.Q6J("imageChangedEvent",v.imageChangedEvent)("maintainAspectRatio",!0),e.xp6(4),e.Q6J("src",v.croppedImage,e.LSH),e.xp6(2),e.Q6J("color","warn"),e.xp6(2),e.Q6J("color","primary"))},dependencies:[n.lW,a.ZT,a.uh,s.ap],encapsulation:2}),d})()},4062:(D,_,t)=>{t.d(_,{i:()=>a});class a{constructor(u){this.slug=this._slugGenerator(u)}_slugGenerator(u){return u.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("  "," ").split(" ").join("-")}}},2451:(D,_,t)=>{t.d(_,{qo:()=>u});var a=t(5094);const g=r=>r.stats,u=(0,a.P1)(g,r=>r.stats);(0,a.P1)(g,r=>r.stats.merchantsQty)},2491:(D,_,t)=>{t.d(_,{L:()=>g});var a=t(3075);class g{static isEmptyInputValue(e){return null==e||0===e.length}static mustMatch(e,r){return n=>{const s=n.get(e),c=n.get(r);if(!s||!c||(c.hasError("mustMatch")&&(delete c.errors.mustMatch,c.updateValueAndValidity()),this.isEmptyInputValue(c.value)||s.value===c.value))return null;const d={mustMatch:"Las contrase\xf1a no coinciden."};return c.setErrors(d),d}}static strongPassWord(e,r,n,s,c){return d=>{const T=d.value;if(!T)return null;const h=!e||/[A-Z]+/.test(T),v=!r||/[a-z]+/.test(T),Z=!n||/[0-9]+/.test(T),b=!s||!/^[a-zA-Z0-9]+$/.test(T);return h&&v&&Z&&b&&T.length>=c?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(e){return r=>{const n=r.get(e);if(!n||(n.hasError("onlyNumber")&&(delete n.errors.mustMatch,n.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(n.value.toString())))return null;const c={onlyNumber:"Solo se admiten n\xfameros."};return n.setErrors(c),c}}static strongPasWordPattern(){return a.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return a.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return a.kI.pattern("^[0-9]*$")}static onlyAlphabetsWithAccentPattern(){return a.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return a.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return e=>{if(!e)return null;let r=e.value;if(!r)return null;void 0!==e.value.idNumber&&(r=e.value.idNumber);const n=parseInt(r.substring(0,2),10),s=parseInt(r.substring(2,4),10)-1,c=parseInt(r.substring(4,6),10),d=new Date(n,s,c);if(d.getFullYear().toString().substring(2,4)===n.toString()&&d.getMonth()===s&&d.getDate()===c)return null;const h={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return e.setErrors(h),h}}static validFullName(e){return r=>{const n=r.get(e);if(!n||!e||(n.hasError("validFullName")&&(delete n.errors.validFullName,n.updateValueAndValidity()),this._isEmptyInputValue(n.value))||n.value.trim().split(" ").length>1)return null;const s={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return n.setErrors(s),s}}static _isEmptyInputValue(e){return null==e||0===e.length}}},5681:(D,_,t)=>{t.d(_,{Y:()=>B});var a=t(5e3),g=t(5698),u=t(3900),e=t(8505),r=t(5840),n=t(230),s=t(9987),c=t(9784),d=t(3921);const T=d.Ps`
    mutation CreateCurrency($createCurrencyInput: CreateCurrencyInput!) {
        createCurrency(createCurrencyInput: $createCurrencyInput) {

            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }

        }
    }
`,h=d.Ps`
mutation UpdateCurrency($updateCurrencyInput: UpdateCurrencyInput!) {
    updateCurrency(updateCurrencyInput: $updateCurrencyInput) {
        ok
        message

        currency {
            id
            active
            name
            iso
            symbol
        }
    }
}
`,v=d.Ps`
mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
    updateCurrencyStatus(updateEntityStatusInput: $updateEntityStatusInput)
}
`,Z=d.Ps`
mutation RemoveCurrency($removeCurrencyId: String!) {
    removeCurrency(id: $removeCurrencyId)
}
`,b=d.Ps`
    query FindAllCurrencies {
        findAllCurrencies {
            ok
            message

            currencies {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`,F=d.Ps`
    query FindCurrencyById($findCurrencyByIdId: String!) {
        findCurrencyById(id: $findCurrencyByIdId) {
            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`;var M=t(7261),L=t(5094);let z=(()=>{class A{constructor(m,y,C){this.apolloProvider=m,this._snackBar=y,this.store=C,this._apollo=this.apolloProvider.use("AES")}createCurrency(m){return this.store.select(s.zd).pipe((0,g.q)(1),(0,u.w)(y=>this._apollo.mutate({mutation:T,variables:{createCurrencyInput:m},errorPolicy:"all"}).pipe((0,e.b)(({errors:C,data:E})=>{if(C){let l="";C.forEach(f=>l+=`\n ${f.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const o=(0,r.Z)(y);o.push(E.createCurrency.currency),this.store.dispatch((0,n.HC)({currencies:o}))}))))}getCurrencies(){return this._apollo.query({query:b,errorPolicy:"all"}).pipe((0,e.b)(({errors:m,data:y})=>{if(m){let C="";m.forEach(E=>C+=`\n ${E.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:C,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,n.HC)({currencies:y.findAllCurrencies.currencies}))}))}getCurrencyById(m){return this._apollo.query({query:F,variables:{findCurrencyByIdId:m},errorPolicy:"all"}).pipe((0,e.b)(({errors:y,data:C})=>{if(y){let E="";y.forEach(o=>E+=`\n ${o.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:E,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,n.NW)({currency:C.findCurrencyById.currency}))}))}updateCurrency(m){return this.store.select(s.zd).pipe((0,g.q)(1),(0,u.w)(y=>this._apollo.mutate({mutation:h,variables:{updateCurrencyInput:m},errorPolicy:"all"}).pipe((0,e.b)(({errors:C,data:E})=>{if(C){let f="";C.forEach(R=>f+=`\n ${R.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:f,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const o=(0,r.Z)(y);o[y.findIndex(f=>f.id===m.id)]=E.updateCurrency.currency,this.store.dispatch((0,n.HC)({currencies:o}))}))))}updateCurrencyStatus(m){return this.store.select(s.zd).pipe((0,g.q)(1),(0,u.w)(y=>this._apollo.mutate({mutation:v,variables:{updateEntityStatusInput:m},errorPolicy:"all"}).pipe((0,e.b)(({errors:C})=>{if(C){let l="";C.forEach(f=>l+=`\n ${f.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const E=(0,r.Z)(y);E[y.findIndex(l=>l.id===m.id)].active=m.active,this.store.dispatch((0,n.HC)({currencies:E}))}))))}removeCurrency(m){return this.store.select(s.zd).pipe((0,g.q)(1),(0,u.w)(y=>this._apollo.mutate({mutation:Z,variables:{removeCurrencyId:m},errorPolicy:"all"}).pipe((0,e.b)(({errors:C})=>{if(C){let l="";C.forEach(f=>l+=`\n ${f.message}.`),this._snackBar.openFromComponent(c.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const E=(0,r.Z)(y),o=y.findIndex(l=>l.id===m);E.splice(o,1),this.store.dispatch((0,n.HC)({currencies:E}))}))))}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(d._M),a.LFG(M.ux),a.LFG(L.yh))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),B=(()=>{class A{constructor(m){this._currenciesService=m}resolve(m,y){return this._currenciesService.getCurrencies()}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(z))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},9987:(D,_,t)=>{t.d(_,{zd:()=>e});var a=t(5094);const g=r=>r.currencies,e=((0,a.P1)(g,r=>r.currency),(0,a.P1)(g,r=>r.currencies))},7988:(D,_,t)=>{t.d(_,{Z:()=>g});const g=function a(u,e){for(var r=-1,n=null==u?0:u.length,s=Array(n);++r<n;)s[r]=e(u[r],r,u);return s}},7298:(D,_,t)=>{t.d(_,{Z:()=>e});var a=t(7370),g=t(2168);const e=function u(r,n){for(var s=0,c=(n=(0,a.Z)(n,r)).length;null!=r&&s<c;)r=r[(0,g.Z)(n[s++])];return s&&s==c?r:void 0}},7370:(D,_,t)=>{t.d(_,{Z:()=>E});var a=t(4177),g=t(8042),u=t(3639);function r(o,l){if("function"!=typeof o||null!=l&&"function"!=typeof l)throw new TypeError("Expected a function");var f=function(){var R=arguments,N=l?l.apply(this,R):R[0],S=f.cache;if(S.has(N))return S.get(N);var W=o.apply(this,R);return f.cache=S.set(N,W)||S,W};return f.cache=new(r.Cache||u.Z),f}r.Cache=u.Z;const n=r;var T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g;const Z=function c(o){var l=n(o,function(R){return 500===f.size&&f.clear(),R}),f=l.cache;return l}(function(o){var l=[];return 46===o.charCodeAt(0)&&l.push(""),o.replace(T,function(f,R,N,S){l.push(N?S.replace(h,"$1"):R||f)}),l});var b=t(8492),F=t(7988),M=t(6460),z=b.Z?b.Z.prototype:void 0,B=z?z.toString:void 0;const x=function A(o){if("string"==typeof o)return o;if((0,a.Z)(o))return(0,F.Z)(o,A)+"";if((0,M.Z)(o))return B?B.call(o):"";var l=o+"";return"0"==l&&1/o==-1/0?"-0":l},y=function m(o){return null==o?"":x(o)},E=function C(o,l){return(0,a.Z)(o)?o:(0,g.Z)(o,l)?[o]:Z(y(o))}},8042:(D,_,t)=>{t.d(_,{Z:()=>n});var a=t(4177),g=t(6460),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;const n=function r(s,c){if((0,a.Z)(s))return!1;var d=typeof s;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=s&&!(0,g.Z)(s))||e.test(s)||!u.test(s)||null!=c&&s in Object(c)}},2168:(D,_,t)=>{t.d(_,{Z:()=>e});var a=t(6460);const e=function u(r){if("string"==typeof r||(0,a.Z)(r))return r;var n=r+"";return"0"==n&&1/r==-1/0?"-0":n}},6460:(D,_,t)=>{t.d(_,{Z:()=>r});var a=t(7079),g=t(214);const r=function e(n){return"symbol"==typeof n||(0,g.Z)(n)&&"[object Symbol]"==(0,a.Z)(n)}},5119:(D,_,t)=>{t.d(_,{Z:()=>X});var a=t(7988),g=t(9057),u=t(7370);var n=t(7298);const T=function d(i,p){return p.length<2?i:(0,n.Z)(i,function s(i,p,I){var O=-1,P=i.length;p<0&&(p=-p>P?0:P+p),(I=I>P?P:I)<0&&(I+=P),P=p>I?0:I-p>>>0,p>>>=0;for(var U=Array(P);++O<P;)U[O]=i[O+p];return U}(p,0,-1))};var h=t(2168);const Z=function v(i,p){return p=(0,u.Z)(p,i),null==(i=T(i,p))||delete i[(0,h.Z)(function e(i){var p=null==i?0:i.length;return p?i[p-1]:void 0}(p))]};var b=t(3276),F=t(2031);const L=function M(i){return(0,F.Z)(i)?void 0:i};var z=t(6623),B=t(8492),A=t(4825),x=t(4177),m=B.Z?B.Z.isConcatSpreadable:void 0;const C=function y(i){return(0,x.Z)(i)||(0,A.Z)(i)||!!(m&&i&&i[m])},o=function E(i,p,I,O,P){var U=-1,k=i.length;for(I||(I=C),P||(P=[]);++U<k;){var K=i[U];p>0&&I(K)?p>1?E(K,p-1,I,O,P):(0,z.Z)(P,K):O||(P[P.length]=K)}return P},f=function l(i){return null!=i&&i.length?o(i,1):[]};var R=t(5604),N=t(8661);var $=t(8065);const X=function S(i){return(0,N.Z)((0,R.Z)(i,void 0,f),i+"")}(function(i,p){var I={};if(null==i)return I;var O=!1;p=(0,a.Z)(p,function(U){return U=(0,u.Z)(U,i),O||(O=U.length>1),U}),(0,b.Z)(i,(0,$.Z)(i),I),O&&(I=(0,g.Z)(I,7,L));for(var P=p.length;P--;)Z(I,p[P]);return I})}}]);